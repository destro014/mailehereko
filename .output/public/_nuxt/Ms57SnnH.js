import{_ as w}from"./CZAQ49--.js";import{_ as b}from"./Cy6Kki5g.js";import{r as a,c as h,a as e,B as k,b as c,t as L,q as y,o as B}from"./CJZBxJVY.js";import{u as I}from"./BZafJiMA.js";import"./CzHr444D.js";const x=""+new URL("login-illustration.DGzBddGq.png",import.meta.url).href,S={class:"login-page page container"},q={class:"page-wrapper"},E={class:"form-container"},P={class:"form-wrapper"},F={class:"button-container"},D={class:"form-feedback has-error"},z={__name:"index",setup(G){const t=I(),v=y(),s=a({email:"",password:""}),o=a({email:"",password:""}),l=a({email:"",password:""}),m=a(!1),r=a(""),i=a("Login"),n=a("initial");function f(){let u=!0;return s.value.email||(o.value.email="Email address is required",l.value.email="has-error",u=!1),s.value.password||(o.value.password="Password is required",l.value.password="has-error",u=!1),u}async function _(){n.value="loading",o.value.email="",l.value.email="",o.value.password="",l.value.password="",f()?(m.value=!1,r.value="",i.value="Logging in",await t.login(s.value.email,s.value.password),t.error?(n.value="initial",i.value="Login",r.value=t.error):t.isLoggedIn&&(n.value="initial",i.value="Logged In",setTimeout(()=>{v.push("/admin")},1e3))):(m.value=!0,r.value="Please provide email and password")}return(u,d)=>{const p=w,g=b;return B(),h("div",S,[e("div",q,[d[1]||(d[1]=e("div",{class:"image-container"},[e("img",{src:x,alt:"3d Man with computer on hand"})],-1)),e("div",E,[e("div",P,[d[0]||(d[0]=e("h1",null,"Login",-1)),e("form",{onSubmit:k(_,["prevent"]),class:"login",id:"login"},[c(p,{type:"email",name:"email",label:"Email",placeholder:"eg. hello@example.com",autocomplete:"username",leftIcon:"email",state:l.value.email,hasFeedback:!0,feedback:o.value.email,value:s.value.email},null,8,["state","feedback","value"]),c(p,{type:"password",name:"password",label:"Password",isPassword:!0,autocomplete:"current-password",placeholder:"********",leftIcon:"password",rightIcon:"eye-open",state:l.value.password,hasFeedback:!0,feedback:o.value.password,value:s.value.password},null,8,["state","feedback","value"]),e("div",F,[c(g,{type:"submit",label:i.value,state:n.value},null,8,["label","state"])]),e("div",D,[e("p",null,L(r.value),1)])],32)])])])])}}};export{z as default};
