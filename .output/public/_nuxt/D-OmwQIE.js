import{_ as $,c as n,o as i,a as e,i as o,e as g,r,f as x,k as y,b,t as _,w,d as C,V as A,T as B}from"./CtGbp5Wy.js";import{_ as S}from"./vontwHf2.js";import{_ as V}from"./CLZ_eMg9.js";import{u as L}from"./Ck34-2-J.js";const T={name:"CardLoader",props:["hasAction"]},E={class:"card-skeleton"},I={class:"info-skeleton"},j={key:0,class:"action-skeleton"};function z(a,s,m,t,u,v){return i(),n("div",E,[s[2]||(s[2]=e("div",{class:"rating-skeleton"},null,-1)),s[3]||(s[3]=e("div",{class:"image-skeleton"},null,-1)),e("div",I,[s[1]||(s[1]=e("div",{class:"title-skeleton"},null,-1)),m.hasAction?(i(),n("div",j,s[0]||(s[0]=[e("div",{class:"icon-skeleton"},null,-1),e("div",{class:"action-name-skeleton"},null,-1)]))):o("",!0)])])}const R=$(T,[["render",z]]),D={class:"card-wrapper"},M={class:"card-content"},O={class:"card-rating"},P=["src","alt"],q={class:"card-info"},F={key:0,class:"loader"},G={class:"action-name"},U={__name:"Card",props:{hasAction:Boolean,action:String,actionName:String,item:Object,admin:Boolean},setup(a){const s=L(),m=g(()=>s.lists),t=a,u=r(null),v=r(!1),k=r(t.action),f=r(t.actionName);x(()=>{(t.action==="thumbs-up"||t.action==="plus")&&m.value.forEach(l=>{t.item.id===l.id&&(u.value="success",f.value="Already watched",k.value="watched")})});const c=g(()=>t.item&&t.item.media_type&&t.item.id&&(t.item.media_type==="tv"||t.item.media_type==="movie")?{name:t.item.media_type+"-id",params:{id:t.item.id}}:(t.item&&console.warn("Invalid route for item:",t.item),null));return(l,d)=>{const p=S,h=V;return i(),n("div",D,[e("div",M,[e("div",O,[b(p,{name:"star"}),e("p",null,_(a.item.vote_average),1)]),c.value?(i(),y(h,{key:0,class:"card-image image",to:c.value},{default:w(()=>[e("img",{src:"https://image.tmdb.org/t/p/w500"+a.item.poster_path,alt:a.item.original_title||a.item.original_name},null,8,P)]),_:1},8,["to"])):o("",!0),e("div",q,[c.value?(i(),y(h,{key:0,class:"title",to:c.value},{default:w(()=>[C(_(a.item.original_title||a.item.original_name),1)]),_:1},8,["to"])):o("",!0),a.hasAction?(i(),n("button",{key:1,class:A(["btn card-action",[u.value]]),onClick:d[0]||(d[0]=(...N)=>l.buttonAction&&l.buttonAction(...N))},[v.value?(i(),n("span",F,d[1]||(d[1]=[B('<div class="sk-chase"><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div><div class="sk-chase-dot"></div></div>',1)]))):o("",!0),e("div",{class:A(["btn-icon icon-left",{hidden:v.value}])},[b(p,{name:k.value},null,8,["name"])],2),e("div",G,_(f.value),1)],2)):o("",!0)])])])}}};export{R as _,U as a};
