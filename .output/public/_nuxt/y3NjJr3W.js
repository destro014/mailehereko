import{U as r,I as a,a0 as u,a1 as l,a2 as h}from"./CtGbp5Wy.js";const d=r("users",{state:()=>({authUser:null,loading:!1,error:null}),getters:{isLoggedIn:s=>!!s.authUser},actions:{async login(s,t){this.loading=!0,this.error=null;const{$auth:n}=a();try{const i=(await h(n,s,t)).user;this.authUser={uid:i.uid,email:i.email||""}}catch(e){this.error=e.message,this.authUser=null}finally{this.loading=!1}},async logout(){const{$auth:s}=a();await l(s),this.authUser=null},initAuthListener(){const{$auth:s}=a();u(s,t=>{t?this.authUser={uid:t.uid,email:t.email||""}:this.authUser=null})}}});export{d as u};
