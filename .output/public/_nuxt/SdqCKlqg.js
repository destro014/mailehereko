import{_ as C}from"./DK1oWndu.js";import{_ as S}from"./DEDu-9P_.js";import{_ as P,a as A}from"./D-OmwQIE.js";import{_ as b}from"./vontwHf2.js";import{_ as h,c as a,o as n,a as s,T as M,b as i,B as k,i as g,k as m,F as v,j as y}from"./CtGbp5Wy.js";import"./CLZ_eMg9.js";import"./Ck34-2-J.js";const B={name:"SuggestionCompletePopup",data(){return{popupOpen:!0}},methods:{closePopup(){this.$emit("closed",!0)}}},F={class:"popup"},L={class:"popup-wrapper"};function T(r,e,_,f,o,t){const c=b;return n(),a("div",F,[s("div",L,[s("div",{class:"popup-close",onClick:e[0]||(e[0]=(...l)=>t.closePopup&&t.closePopup(...l))},[i(c,{name:"close"})]),e[1]||(e[1]=M('<div class="icon-container"><svg width="120" height="120" viewBox="0 0 120 120" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M99.3 40.4578C99.3 41.2078 99.3 41.9578 99.25 42.6578C91.6 39.8078 82.6 41.5578 76.6 46.9578C72.55 43.3078 67.3 41.2578 61.7 41.2578C49.4 41.2578 39.4 51.308 39.4 63.708C39.4 77.858 46.5 88.208 53.3 94.908C52.75 94.858 52.3 94.758 51.9 94.608C38.95 90.158 10 71.758 10 40.4578C10 26.6578 21.0999 15.5078 34.7999 15.5078C42.95 15.5078 50.15 19.4078 54.65 25.4578C59.2 19.4078 66.4 15.5078 74.5 15.5078C88.2 15.5078 99.3 26.6578 99.3 40.4578Z" fill="url(#paint0_linear_780:2105)"></path><path d="M89.9995 47.9492C84.6495 47.9492 79.7995 50.5495 76.7995 54.5495C73.7995 50.5495 68.9995 47.9492 63.5995 47.9492C54.4995 47.9492 47.0996 55.3495 47.0996 64.5495C47.0996 68.0995 47.6496 71.349 48.6496 74.349C53.3495 89.199 67.7995 98.0495 74.9495 100.5C75.9495 100.849 77.5995 100.849 78.6495 100.5C85.7995 98.0495 100.25 89.199 104.95 74.349C105.95 71.299 106.5 68.0495 106.5 64.5495C106.5 55.3495 99.0995 47.9492 89.9995 47.9492Z" fill="url(#paint1_linear_780:2105)"></path><defs><linearGradient id="paint0_linear_780:2105" x1="54.65" y1="15.5078" x2="54.65" y2="94.908" gradientUnits="userSpaceOnUse"><stop stop-color="#FF33F7"></stop><stop offset="0.503125" stop-color="#B66DFF"></stop><stop offset="1" stop-color="#7B6EF6"></stop></linearGradient><linearGradient id="paint1_linear_780:2105" x1="76.7996" y1="47.9492" x2="76.7996" y2="100.762" gradientUnits="userSpaceOnUse"><stop stop-color="#FF33F7"></stop><stop offset="0.503125" stop-color="#B66DFF"></stop><stop offset="1" stop-color="#7B6EF6"></stop></linearGradient></defs></svg></div><h4>Thank you for your suggestion</h4><p> Your suggestion has been succesfully added to my watchlist, I will manage sometime to watch your suggestion. ‚ù§ </p>',3))])])}const I=h(B,[["render",T]]),R={name:"SuggestionCompletePopup",data(){return{popupOpen:!0,suggestion:{title:null,link:null},btnState:"initial",btnLabel:"Suggest"}},methods:{closePopup(){this.$emit("closed")},async suggest(){this.btnState="loading",await this.$fire.firestore.collection("manualsuggestions").add(this.suggestion).then(r=>{this.$emit("suggested"),this.btnState="initial",this.btnLabel="Suggested",this.actionPending=!1})},clickOutside(){console.log("click outsie")}}},V={class:"popup-wrapper"},N={class:"button-container"};function O(r,e,_,f,o,t){const c=b,l=C,d=S;return n(),a("div",{class:"popup manual-suggestion-popup",onClick:e[2]||(e[2]=(...u)=>t.clickOutside&&t.clickOutside(...u))},[s("div",V,[s("div",{class:"popup-close",onClick:e[0]||(e[0]=(...u)=>t.closePopup&&t.closePopup(...u))},[i(c,{name:"close"})]),e[3]||(e[3]=s("h4",null,"Suggest something to watch",-1)),s("form",{onSubmit:e[1]||(e[1]=k((...u)=>t.suggest&&t.suggest(...u),["prevent"])),class:"login",id:"login"},[i(l,{type:"text",name:"title",label:"Title",placeholder:"eg. Avenger",leftIcon:"movie",value:o.suggestion.title,required:"required"},null,8,["value"]),i(l,{type:"text",name:"link",label:"Link (if available)",placeholder:"https://example.com",leftIcon:"link",value:o.suggestion.link},null,8,["value"]),s("div",N,[i(d,{type:"submit",label:o.btnLabel,state:o.btnState},null,8,["label","state"])])],32)])])}const q=h(R,[["render",O]]);var E={};const U={name:"Suggest",head(){return{title:"Suggest - ",meta:[{hid:"title",name:"title",content:"MaileHereko - Suggest"},{hid:"description",name:"description",content:"Suggest some TV Shows and movies to watch"},{hid:"keywords",name:"keywords",content:"mailehereko, movies, tvshows, tv series, movies to watch, pramod poudel"},{hid:"og:title",property:"og:title",content:"MaileHereko - Suggest"},{hid:"og:description",property:"og:description",content:"Suggest some TV Shows and movies to watch"},{hid:"og:image",property:"og:image",content:"https://mailehereko.pramodpoudel.com.np/img/banner-suggest.png"},{hid:"og:url",property:"og:url",content:"https://mailehereko.pramodpoudel.com.np/suggest"},{hid:"og:locale",property:"og:locale",content:"en_EN"},{hid:"og:site_name",property:"og:site_name",content:"MaileHereko"},{hid:"og:type",property:"og:type",content:"website"},{hid:"twitter:site",name:"twitter:site",content:"@destro014"},{hid:"twitter:card",property:"twitter:card",content:"summary_large_image"},{hid:"twitter:url",property:"twitter:url",content:"https://twitter.com/destro014"},{hid:"twitter:title",property:"twitter:title",content:"MaileHereko - Suggest"},{hid:"twitter:description",property:"twitter:description",content:"Suggest some TV Shows and movies to watch"},{hid:"twitter:image",property:"twitter:image",content:"https://mailehereko.pramodpoudel.com.np/img/banner-suggest.png"}]}},data(){return{searchTerm:null,searchResults:[],loading:!1,moreAvailable:!1,nothingFound:!1,noResults:!1,suggestionCompletePopupActive:!1,manualSuggestionActive:!1,pageCount:1,btnState:"initial",loadMoreBtnState:"initial",btnLabel:"Search",loadMoreBtnLabel:"Load More",baseUrl:"https://api.themoviedb.org/3/search/multi"}},methods:{async search(){this.btnState="loading",this.loading=!0,this.noResults=!1,this.searchResults=[],this.pageCount=1,await this.searchQuery()},async searchQuery(){const r=await this.$axios.$get("https://api.themoviedb.org/3/search/multi",{params:{page:this.pageCount,api_key:E.TMDB_API_KEY,query:this.searchTerm}});this.searchResults.push(...r.results.filter(e=>{if(e.media_type!="person")return e})),r.total_results==0?this.noResults=!0:r.page<r.total_pages?this.moreAvailable=!0:(this.moreAvailable=!1,this.nothingFound=!0),this.loading=!1,this.btnState="initial"},async loadMore(){this.pageCount+=1,this.loading=!0,await this.searchQuery()},manualSuggestionCompleted(){this.manualSuggestionActive=!1,this.suggestionCompletePopupActive=!0},suggestionPopupClosed(){this.suggestionCompletePopupActive=!1},manualSuggestion(){this.manualSuggestionActive=!0},suggestionCompleted(){this.suggestionCompletePopupActive=!0},manualSuggestionPopupClosed(){this.manualSuggestionActive=!1}}},G={class:"suggest-page page container"},H={class:"header"},Y={class:"lists-container list-grid"},D={key:0,class:"loader-container list-grid"},Q={key:1,class:"button-container load-more-btn"},Z={key:2,class:"no-results-container"},j={key:3,class:"no-results-container"};function K(r,e,_,f,o,t){const c=C,l=S,d=A,u=P,w=I,x=q;return n(),a("div",G,[s("div",H,[e[1]||(e[1]=s("h1",null,"Suggest me",-1)),e[2]||(e[2]=s("p",null," I will really appericiate it if you take time to suggest me something good to watch. ",-1)),s("form",{class:"search-wrapper",onSubmit:e[0]||(e[0]=k((...p)=>t.search&&t.search(...p),["prevent"]))},[i(c,{type:"text",name:"search",label:"Search",placeholder:"eg. Avenger",leftIcon:"search",value:o.searchTerm,required:"required","keep-alive":""},null,8,["value"]),i(l,{type:"submit",label:o.btnLabel,state:o.btnState},null,8,["label","state"])],32)]),s("div",Y,[(n(!0),a(v,null,y(o.searchResults,p=>(n(),m(d,{hasAction:!0,action:"thumbs-up",actionName:"Suggest this",key:p.id,item:p,onSuggested:t.suggestionCompleted},null,8,["item","onSuggested"]))),128))]),o.loading?(n(),a("div",D,[(n(),a(v,null,y(8,p=>i(u,{key:p})),64))])):g("",!0),o.moreAvailable?(n(),a("div",Q,[i(l,{label:o.loadMoreBtnLabel,state:o.loadMoreBtnState,onClick:t.loadMore},null,8,["label","state","onClick"])])):g("",!0),o.noResults?(n(),a("div",Z,[e[3]||(e[3]=s("h2",null,"Sorry, No results found",-1)),e[4]||(e[4]=s("p",{class:"large"}," There are no movies or TV shows matching your search terms. You can suggest me manually ",-1)),i(l,{class:"cta-btn",label:"Suggest Manually",onClick:t.manualSuggestion},null,8,["onClick"])])):g("",!0),o.nothingFound?(n(),a("div",j,[e[5]||(e[5]=s("h3",null,"Looks like you didn't find something you are looking for.",-1)),e[6]||(e[6]=s("p",{class:"large"},"You can make a manual suggestion if you want.",-1)),i(l,{class:"cta-btn",label:"Suggest Manually",onClick:t.manualSuggestion},null,8,["onClick"])])):g("",!0),o.suggestionCompletePopupActive?(n(),m(w,{key:4,onClosed:t.suggestionPopupClosed},null,8,["onClosed"])):g("",!0),o.manualSuggestionActive?(n(),m(x,{key:5,onClosed:t.manualSuggestionPopupClosed,onSuggested:t.manualSuggestionCompleted},null,8,["onClosed","onSuggested"])):g("",!0)])}const oe=h(U,[["render",K]]);export{oe as default};
